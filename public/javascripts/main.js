var app;app=angular.module("app",["ngResource"]),app.factory("Currency",["$resource",function(r){return r("/api/currencies/:id",{id:"@id"},{query:{method:"GET",isArray:!0}})}]),app.factory("Address",["$resource",function(r){return r("/api/:currency/addresses",{currency:"@currency"},{})}]),app.controller("IndexCtrl",["$scope","$timeout","Currency","Address",function(r,e,s,n){var c,u,a,d,o;return a=0,r.new_address={},r.error={},c=!0,r.error_response="",r.error_response="",d=function(){return r.error_response="",r.success_response="",r.error.currency="",r.error.address="",r.error.email=""},o=function(){return c=!1,n.save({currency:r.new_address.currency},{email:r.new_address.email,address:r.new_address.address},function(){return r.success_response=!0,r.new_address={},c=!0},function(e){return c=!0,r.error_response=e.data.error})},r.createAddress=function(){return d(),r.new_address.currency?r.new_address.email?r.new_address.address?(d(),c?o():void 0):r.error.address="has-error":r.error.email="has-error":r.error.currency="has-error"},u=function(){return r.currency=r.currencies[a].name,a+=1,a>=r.currencies.length&&(a=0),e(u,1500)},r.currencies=s.query(u)}]);