extends layout

block header
  script(src='/javascripts/profile.js')

  .container.push--top.profil-page(ng-app="app", ng-controller="CurrencyCtrl")
    .row
      .pull-right
        a.btn.btn-success(data-toggle="modal", data-target="#myModal")
          span Badges
          span.glyphicon.glyphicon-share-alt
      .col-md-8.col-md-offset-2.col-xs-12.text-center
        img.img-circle(src=gravatar_url, width='140', alt='', ng-init="hash='#{hash}';")
    .row.mt
      .col-md-8.col-md-offset-2
        h2.text-center Addresses
        div.mt-xs(ng-repeat="it in addresses")
          .input-group.input-group-lg
            .input-group-addon(style="min-width: 150px")
              .text-left
                a(href="{{it.currency.url}}", target="_blank", title="{{it.currency.name}}")
                  img(ng-src="/images/{{it.currency.symbol || 'empty'}}.png")
                &nbsp;
                {{it.currency.name}}
            input.form-control(type="text", disabled="disabled", value="{{it.address}}")
            .input-group-btn
              button.btn.btn-warning(type="button", class="copy-button", data-currency="{{it.currency.symbol}}", clip-copy="it.address", clip-click="handleClick(it.currency.symbol)")
                span.small Copy
                span.glyphicon.glyphicon-link
                span.glyphicon.glyphicon-ok.hidden

    .row.mt.text-center
      .col-md-8.col-xs-12.col-md-offset-2
        h3.text-center Profile link
        .input-group.input-group-lg
          input.form-control(type="text", disabled="disabled", value="http://gravaco.in/{{hash}}")
          .input-group-addon#profile_url(class="copy-button", clip-copy="profile_url", clip-click="handleProfileUrlClick()")
            span.small Copy
            span.glyphicon.glyphicon-link
            span.glyphicon.glyphicon-ok.hidden

    .modal.fade#myModal
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal")&times;
            h3.modal-title Embed badges

          .modal-body
            h4 Generic badge
            img.margin-bottom-xs.center-block(ng-src="/{{hash}}.png")
            .input-group.input-group-sm
              span.input-group-addon Markdown
              input.form-control(type="text", value="[![Donate](http://gravaco.in/{{hash}}.png)](http://gravaco.in/{{hash}})")
            .input-group.input-group-sm
              span.input-group-addon Image URL
              input.form-control(type="text", value="http://gravaco.in/{{hash}}.png")
            h4
              | Currency-specific badges
              select.pull-right.input-sm(ng-model="selectedCurrency", ng-options="addr.currency.symbol as addr.currency.name for addr in addresses")
            .mt(ng-show="selectedCurrency")
              img.margin-bottom-xs.center-block(ng-src="{{selectedCurrency}}/{{hash}}.png")
              .input-group.input-group-sm
                span.input-group-addon Markdown
                input.form-control(type="text", value="[![Donate](http://gravaco.in/{{selectedCurrency}}/{{hash}}.png)](http://gravaco.in/{{hash}})")
              .input-group.input-group-sm
                span.input-group-addon Image URL
                input.form-control(type="text", value="http://gravaco.in/{{selectedCurrency}}/{{hash}}.png")
